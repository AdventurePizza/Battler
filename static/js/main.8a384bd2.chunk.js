(this.webpackJsonpbattlr=this.webpackJsonpbattlr||[]).push([[0],{165:function(t,e,n){},167:function(t,e,n){},171:function(t,e){},173:function(t,e){},184:function(t,e){},186:function(t,e){},213:function(t,e){},215:function(t,e){},216:function(t,e){},221:function(t,e){},223:function(t,e){},242:function(t,e){},254:function(t,e){},257:function(t,e){},288:function(t,e,n){"use strict";n.r(e);var r=n(3),a=n.n(r),i=n(48),s=n.n(i),c=(n(165),n(35)),o=n(19),u=n(0),l=n.n(u),d=(n(167),n(303)),f=n(14),p=n(91),b=n.n(p),h=n(24),y=new f.i({name:"Beacon Docs"}),j=new p.UnityContext({loaderUrl:"buildUnity/Build/buildUnity.loader.js",dataUrl:"buildUnity/Build/buildUnity.data",frameworkUrl:"buildUnity/Build/buildUnity.framework.js",codeUrl:"buildUnity/Build/buildUnity.wasm"});var m=function(){var t=Object(r.useState)(),e=Object(o.a)(t,2),n=e[0],a=e[1],i=Object(r.useState)("sync"),s=Object(o.a)(i,2),u=s[0],f=s[1],p=Object(r.useState)(!1),m=Object(o.a)(p,2),x=m[0],g=m[1];function k(){return(k=Object(c.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a,t.next=3,y.getActiveAccount();case 3:t.t1=t.sent,(0,t.t0)(t.t1),n&&y.clearActiveAccount().then(Object(c.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a,t.next=3,y.getActiveAccount();case 3:t.t1=t.sent,(0,t.t0)(t.t1),f("sync"),g(!1);case 7:case"end":return t.stop()}}),t)}))));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){return O.apply(this,arguments)}function O(){return(O=Object(c.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a,t.next=3,y.getActiveAccount();case 3:if(t.t1=t.sent,(0,t.t0)(t.t1),!n){t.next=11;break}return f(n.address),g(!0),t.abrupt("return",n);case 11:return t.prev=11,console.log("Requesting permissions..."),t.next=15,y.requestPermissions();case 15:return e=t.sent,t.t2=a,t.next=19,y.getActiveAccount();case 19:t.t3=t.sent,(0,t.t2)(t.t3),console.log("Got permissions:",e.address),f(e.address),g(!0),t.next=29;break;case 26:t.prev=26,t.t4=t.catch(11),console.log("Got error:",t.t4);case 29:case"end":return t.stop()}}),t,null,[[11,26]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){function t(t,n,r){return e.apply(this,arguments)}function e(){return(e=Object(c.a)(l.a.mark((function t(e,n,r){var a,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.fxhash.xyz/graphql",{method:"POST",body:JSON.stringify({query:e,variables:r,operationName:n}),headers:{"Content-Type":"application/json"}});case 2:return a=t.sent,t.next=5,a.json();case 5:return i=t.sent,t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function r(){return(r=Object(c.a)(l.a.mark((function e(n){var r,a,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(v,"Query",{id:n,skip:0,take:20,filters:{},sort:{id:"DESC"}});case 2:r=e.sent,a=r.errors,i=r.data,a&&console.error(a),console.log(i),s=i?i.user.objkts:null,s.map((function(t){var e=t.issuer,n=t.metadata,r=t.assigned;t.id;return"tz2DNkXjYmJwtYceizo3LwNVrqfrguWoqmBE"===e.author.id&&"Batch 2 Test Collection"===e.name&&r?n.attributes[0].value+"."+n.attributes[1].value+"."+n.attributes[2].value+"."+n.attributes[3].value+"."+n.attributes[4].value+"."+n.attributes[5].value+"."+n.attributes[6].value:null})).join();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n&&function(t){r.apply(this,arguments)}(n.address)}),[n]),Object(r.useEffect)((function(){function t(){return(t=Object(c.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a,t.next=3,y.getActiveAccount();case 3:t.t1=t.sent,(0,t.t0)(t.t1),n?(f(n.address.slice(0,6)+"..."+n.address.slice(32,36)),g(!0)):(f("sync"),g(!1));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[n]),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"top-left",style:{position:"absolute",display:"flex",alignItems:"center",backgroundColor:"black",padding:6,color:"white"},children:"Elementals"}),Object(h.jsx)(b.a,{unityContext:j,style:{width:"100vw",height:"100vh"}}),Object(h.jsxs)("div",{className:"top-right",style:{position:"absolute",display:"flex",alignItems:"center",backgroundColor:"black",color:"white"},children:[x&&Object(h.jsxs)(d.a,{size:"small",title:"unsync",onClick:function(){!function(){k.apply(this,arguments)}()},style:{fontFamily:"Alagard",color:"white"},children:[Object(h.jsx)("u",{children:"unsync"})," "]}),x&&Object(h.jsx)("div",{children:" | "}),Object(h.jsxs)(d.a,{title:"sync",size:"small",onClick:Object(c.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w();case 2:case"end":return t.stop()}}),t)}))),style:{fontFamily:"Alagard",color:"white"},children:[Object(h.jsx)("u",{children:u})," "]})]})]})},v="\nquery Query($id: String!, $take: Int, $skip: Int, $sort: UserCollectionSortInput, $filters: ObjktFilter) {\n  user(id: $id) {\n    id\n    objkts(take: $take, skip: $skip, sort: $sort, filters: $filters) {\n      id\n      assigned\n      rarity\n      iteration\n      owner {\n        id\n        name\n        flag\n        avatarUri\n        __typename\n      }\n      issuer {\n        name\n        flag\n        author {\n          id\n          name\n          flag\n          avatarUri\n          __typename\n        }\n        __typename\n      }\n      name\n      metadata\n      createdAt\n      offer {\n        id\n        price\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n",x=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,304)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,i=e.getLCP,s=e.getTTFB;n(t),r(t),a(t),i(t),s(t)}))};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(m,{})}),document.getElementById("root")),x()},94:function(t,e){}},[[288,1,2]]]);
//# sourceMappingURL=main.8a384bd2.chunk.js.map